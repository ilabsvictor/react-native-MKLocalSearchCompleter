{"version":3,"sources":["index.tsx"],"names":["NativeModules","Platform","NativeAddressAutocomplete","AddressAutocomplete","NativeGeocode","ReverseGeocode","address","promise","Promise","resolve","reject","OS","length","details","getAddressDetails","err","suggestions","getAddressSuggestions","longitude","latitude","geocode","reverseGeocodeLocation"],"mappings":";;AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,cAAxC;AAwBA,MAAMC,yBAAyB,GAAGF,aAAa,CAACG,mBAAhD;AACA,MAAMC,aAAa,GAAGJ,aAAa,CAACK,cAApC;;AAEA,MAAMF,mBAAN,CAA0B;;gBAApBA,mB,uBACuB,OACzBG,OADyB,KAEG;AAC5B,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CAA4B,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AACrE,QAAIT,QAAQ,CAACU,EAAT,KAAgB,SAApB,EAA+B;AAC7BD,MAAAA,MAAM,CAAC,qBAAD,CAAN;AACD;;AACD,QAAIJ,OAAO,CAACM,MAAR,GAAiB,CAArB,EAAwB;AACtB,UAAI;AACF,cAAMC,OAAO,GAAG,MAAMX,yBAAyB,CAACY,iBAA1B,CACpBR,OADoB,CAAtB;AAGAG,QAAAA,OAAO,CAACI,OAAD,CAAP;AACD,OALD,CAKE,OAAOE,GAAP,EAAY;AACZL,QAAAA,MAAM,CAACK,GAAD,CAAN;AACD;AACF,KATD,MASO;AACLL,MAAAA,MAAM,CAAC,yCAAD,CAAN;AACD;AACF,GAhBe,CAAhB;AAiBA,SAAOH,OAAP;AACD,C;;gBAtBGJ,mB,2BAwB2B,MAAOG,OAAP,IAA8C;AAC3E,QAAMC,OAAO,GAAG,IAAIC,OAAJ,CAAsB,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AAC/D,QAAIT,QAAQ,CAACU,EAAT,KAAgB,SAApB,EAA+B;AAC7BD,MAAAA,MAAM,CAAC,qBAAD,CAAN;AACD;;AACD,QAAIJ,OAAO,CAACM,MAAR,GAAiB,CAArB,EAAwB;AACtB,UAAI;AACF,cAAMI,WAAW,GAAG,MAAMd,yBAAyB,CAACe,qBAA1B,CACxBX,OADwB,CAA1B;AAGAG,QAAAA,OAAO,CAACO,WAAD,CAAP;AACD,OALD,CAKE,OAAOD,GAAP,EAAY;AACZL,QAAAA,MAAM,CAACK,GAAD,CAAN;AACD;AACF,KATD,MASO;AACLL,MAAAA,MAAM,CAAC,yCAAD,CAAN;AACD;AACF,GAhBe,CAAhB;AAiBA,SAAOH,OAAP;AACD,C;;gBA3CGJ,mB,4BA6C4B,OAC9Be,SAD8B,EAE9BC,QAF8B,KAGI;AAClC,QAAMZ,OAAO,GAAG,IAAIC,OAAJ,CACd,OAAOC,OAAP,EAAgBC,MAAhB,KAA2B;AACzB,QAAIT,QAAQ,CAACU,EAAT,KAAgB,SAApB,EAA+B;AAC7BD,MAAAA,MAAM,CAAC,qBAAD,CAAN;AACD;;AACD,QAAIS,QAAQ,IAAID,SAAhB,EAA2B;AACzB,UAAI;AACF,cAAME,OAAO,GAAG,MAAMhB,aAAa,CAACiB,sBAAd,CACpBH,SADoB,EAEpBC,QAFoB,CAAtB;AAIAV,QAAAA,OAAO,CAACW,OAAD,CAAP;AACD,OAND,CAME,OAAOL,GAAP,EAAY;AACZL,QAAAA,MAAM,CAACK,GAAD,CAAN;AACD;AACF,KAVD,MAUO;AACLL,MAAAA,MAAM,CAAC,mCAAD,CAAN;AACD;AACF,GAlBa,CAAhB;AAoBA,SAAOH,OAAP;AACD,C;;AAGH,eAAeJ,mBAAf","sourcesContent":["import { NativeModules, Platform } from 'react-native';\n\nexport type AddressDetails = {\n  title: string;\n  coordinate: {\n    latitude: number;\n    longitude: number;\n  };\n  region: {\n    longitude: number;\n    latitude: number;\n    longitudeDelta: number;\n    latitudeDelta: number;\n  };\n};\n\nexport type ReverseGeocodeResult = {\n  street: string;\n  house: string;\n  zip: number;\n  country: string;\n  city: string;\n};\n\nconst NativeAddressAutocomplete = NativeModules.AddressAutocomplete;\nconst NativeGeocode = NativeModules.ReverseGeocode;\n\nclass AddressAutocomplete {\n  static getAddressDetails = async (\n    address: string\n  ): Promise<AddressDetails> => {\n    const promise = new Promise<AddressDetails>(async (resolve, reject) => {\n      if (Platform.OS === 'android') {\n        reject('Only IOs supported.');\n      }\n      if (address.length > 0) {\n        try {\n          const details = await NativeAddressAutocomplete.getAddressDetails(\n            address\n          );\n          resolve(details);\n        } catch (err) {\n          reject(err);\n        }\n      } else {\n        reject('Address length should be greater than 0');\n      }\n    });\n    return promise;\n  };\n\n  static getAddressSuggestions = async (address: string): Promise<string[]> => {\n    const promise = new Promise<string[]>(async (resolve, reject) => {\n      if (Platform.OS === 'android') {\n        reject('Only IOs supported.');\n      }\n      if (address.length > 0) {\n        try {\n          const suggestions = await NativeAddressAutocomplete.getAddressSuggestions(\n            address\n          );\n          resolve(suggestions);\n        } catch (err) {\n          reject(err);\n        }\n      } else {\n        reject('Address length should be greater than 0');\n      }\n    });\n    return promise;\n  };\n\n  static reverseGeocodeLocation = async (\n    longitude: number,\n    latitude: number\n  ): Promise<ReverseGeocodeResult> => {\n    const promise = new Promise<ReverseGeocodeResult>(\n      async (resolve, reject) => {\n        if (Platform.OS === 'android') {\n          reject('Only IOs supported.');\n        }\n        if (latitude && longitude) {\n          try {\n            const geocode = await NativeGeocode.reverseGeocodeLocation(\n              longitude,\n              latitude\n            );\n            resolve(geocode);\n          } catch (err) {\n            reject(err);\n          }\n        } else {\n          reject('No latitude or longitude provided');\n        }\n      }\n    );\n    return promise;\n  };\n}\n\nexport default AddressAutocomplete;\n"]}